(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function l(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(e){if(e.ep)return;e.ep=!0;const r=l(e);fetch(e.href,r)}})();const n="data:text/javascript;base64,Ly8gRGVmaW5lIHRoZSBjYWNoZSBuYW1lCmNvbnN0IENBQ0hFX05BTUUgPSAidjEiOwoKLy8gSW5zdGFsbCBldmVudDogT3BlbiBjYWNoZSBhbmQgYWRkIGEgcGxhY2Vob2xkZXIgZmlsZSB0byBlbnN1cmUgdGhlIGNhY2hlIGlzIGNyZWF0ZWQKc2VsZi5hZGRFdmVudExpc3RlbmVyKCJpbnN0YWxsIiwgKGV2ZW50KSA9PiB7CiAgZXZlbnQud2FpdFVudGlsKGNhY2hlcy5vcGVuKENBQ0hFX05BTUUpKTsKfSk7Cgpjb25zdCBwdXRJbkNhY2hlID0gYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7CiAgY29uc3QgY2FjaGUgPSBhd2FpdCBjYWNoZXMub3BlbihDQUNIRV9OQU1FKTsKICBhd2FpdCBjYWNoZS5wdXQocmVxdWVzdCwgcmVzcG9uc2UpOwp9OwoKY29uc3QgY2FjaGVGaXJzdCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7CiAgY29uc3QgcmVzcG9uc2VGcm9tQ2FjaGUgPSBhd2FpdCBjYWNoZXMubWF0Y2gocmVxdWVzdCk7CiAgaWYgKHJlc3BvbnNlRnJvbUNhY2hlKSB7CiAgICByZXR1cm4gcmVzcG9uc2VGcm9tQ2FjaGU7CiAgfQogIGNvbnN0IHJlc3BvbnNlRnJvbU5ldHdvcmsgPSBhd2FpdCBmZXRjaChyZXF1ZXN0KTsKICBwdXRJbkNhY2hlKHJlcXVlc3QsIHJlc3BvbnNlRnJvbU5ldHdvcmsuY2xvbmUoKSk7CiAgcmV0dXJuIHJlc3BvbnNlRnJvbU5ldHdvcms7Cn07CgpzZWxmLmFkZEV2ZW50TGlzdGVuZXIoImZldGNoIiwgKGV2ZW50KSA9PiB7CiAgZXZlbnQucmVzcG9uZFdpdGgoY2FjaGVGaXJzdChldmVudC5yZXF1ZXN0KSk7Cn0pOwoKLy8gQWN0aXZhdGUgZXZlbnQ6IENsZWFuIHVwIG9sZCBjYWNoZXMgaWYgbmVjZXNzYXJ5CnNlbGYuYWRkRXZlbnRMaXN0ZW5lcigiYWN0aXZhdGUiLCAoZXZlbnQpID0+IHsKICBjb25zdCBjYWNoZVdoaXRlbGlzdCA9IFtDQUNIRV9OQU1FXTsKCiAgZXZlbnQud2FpdFVudGlsKHNlbGYucmVnaXN0cmF0aW9uPy5uYXZpZ2F0aW9uUHJlbG9hZC5lbmFibGUoKSk7Cn0pOwo=",s=async()=>{if("serviceWorker"in navigator)try{const i=await navigator.serviceWorker.register(n,{scope:"/mars-online/"});i.installing?console.log("Service worker installing"):i.waiting?console.log("Service worker installed"):i.active&&console.log("Service worker active")}catch(i){console.error(`Registration failed with ${i}`)}};s();function d(i){return!!((navigator.userAgent.includes("Mac")?i.metaKey:i.ctrlKey)&&i.key==="s")}async function a(){await cheerpjInit({clipboardMode:"permission",overrideShortcuts:d}),cheerpjCreateDisplay(-1,-1,document.getElementById("app")),await cheerpjRunJar("/app//mars-online//Mars.jar")}a();
